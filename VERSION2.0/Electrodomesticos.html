<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>~~ Holy Shoppy ~~</title>
  <!-- CSS CDN'S -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
  <script src="https://kit.fontawesome.com/eb496ab1a0.js" crossorigin="anonymous"></script>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js" crossorigin="anonymous"></script>
  <!-- CSS -->
  <link href="https://cdn.jsdelivr.net/gh/hung1001/font-awesome-pro-v6@44659d9/css/all.min.css" rel="stylesheet"
    type="text/css">
  <link rel="stylesheet" href="./css/estilo.css">
  <link rel="stylesheet" href="./css/electrodomesticos.css">
  <style>
    .btn-light {
      background-color: black;
    }

    .btn-light:hover {
      color: rgb(0, 0, 0);
      font-weight: 500;
    }

    body{
      background-image: url(./img/fondo1.jpg);
      background-size: cover;
      background-repeat: no-repeat;
      background-position: center;
      background-attachment: fixed;
      margin: 0;
      padding: 0;
    }
  </style>
</head>

<body>
  <!-- NAVBAR -->
  <header>
    <nav class="navbar navbar-expand-lg" style="background-color: black;">
      <div class="container-fluid">
        <a class="navbar-brand mx-4" style="color:white; font-size: 40px; text-decoration: none;" href="#">Holy Shoppy</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
          aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"><i class="fas fa-bars fa-lg" style="color:white;"></i></span>
        </button>                                                   
        <div class="collapse navbar-collapse flex-row-reverse" id="navbarNav">
          <ul class="navbar-nav">
            <li class="nav-item">
              <a class="nav-link active" aria-current="page" href="./index.html">Inicio</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="./promocion.html">Promociones</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="./Categorias.html">Categorías</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" id="carro" href="./carro.html"><i class="fa-duotone fa-cart-shopping fa-bounce fa-lg"
                  style="--fa-primary-color: #ffffff; --fa-secondary-color: #ededed;"></i></a>
            </li>
          </ul>
        </div>
        <div>
          <select id="boxMoneda">
            <option value="USD">USD</option>
            <option value="EUR">EUR</option>
            <option value="CLP" selected>CLP</option>
            <option value="AED">AED</option>
            <option value="AFN">AFN</option>
            <option value="ALL">ALL</option>
            <option value="AMD">AMD</option>
            <option value="ANG">ANG</option>
            <option value="AOA">AOA</option>
            <option value="ARS">ARS</option>
            <option value="AUD">AUD</option>
            <option value="BTN">BTN</option>
            <option value="AWG">AWG</option>
            <option value="AZN">AZN</option>
            <option value="BAM">BAM</option>
            <option value="BBD">BBD</option>
            <option value="BDT">BDT</option>
            <option value="BGN">BGN</option>
            <option value="BHD">BHD</option>
            <option value="BIF">BIF</option>
          </select>
        </div>
      </div>
    </nav>
  </header>
  
  <div class="container-fluid">
    <h1 class="tit">ELECTRODOMESTICOS</h1> 
    <div class="row">
      <div class="col-sm-12 col-md-6 col-lg-4 epa">
        <div class="producto">
          <img src="./img/electrodo/microondas1.png" alt="microondas img" width="300px">
          <h2 class="title">Microondas Panasonic GGEZ7</h2>
          <p class="price">$60.000 CLP</p>
          <button class="buy-btn" data-price="60000">Comprar</button>
          <a href="./detallemicro1.html" style="padding: 5px;">ver detalle</a>
        </div>
      </div>
  
      <div class="col-sm-12 col-md-6 col-lg-4 epa">
        <div class="producto">
          <img src="./img/electrodo/licuadora.jpg" alt="licuadora img" width="300px">
          <h2 class="title">Licuadora marca Oster</h2>
          <p class="price">$50.000 CLP</p>
          <button class="buy-btn" data-price="50000">Comprar</button>
          <a href="./detallemicro1.html" style="padding: 5px;">ver detalle</a>
        </div>
      </div>
  
      <div class="col-sm-12 col-md-6 col-lg-4 epa">
        <div class="producto">
          <img src="./img/14688619_1.jpg" alt="Aspiradora img" width="300px">
          <h2 class="title">Aspiradora</h2>
          <p class="price">$70.000 CLP</p>
          <button class="buy-btn" data-price="70000">Comprar</button>
          <a href="./detallemicro1.html" style="padding: 5px;">ver detalle</a>
        </div>
      </div>

      <div class="col-sm-12 col-md-6 col-lg-4 epa">
        <div class="producto">
          <img src="./img/batidora.jpg" alt="Batidora img" width="300px">
          <h2 class="title">Batidora marca KitchenAid</h2>
          <p class="price">$100.000 CLP</p>
          <button class="buy-btn" data-price="100000">Comprar</button>
          <a href="./detallemicro1.html" style="padding: 5px;">ver detalle</a>
        </div>
      </div>

      <div class="col-sm-12 col-md-6 col-lg-4 epa">
        <div class="producto">
          <img src="./img/refrigerador.webp" alt="refrigerador img" width="300px">
          <h2 class="title">Refrigerador LG LM22SGPK</h2>
          <p class="price">$400.000</p>
          <button class="buy-btn" data-price="400000">Comprar</button>
          <a href="./detallemicro1.html" style="padding: 5px;">ver detalle</a>
        </div>
      </div>

      <div class="col-sm-12 col-md-6 col-lg-4 epa">
        <div class="producto">
          <img src="./img/televisor.jpg" alt="televisor img" width="300px">
          <h2 class="title">Televisor LG 45'Pulgadas</h2>
          <p class="price">Precio: $300.000</p>
          <button class="buy-btn" data-price="300000">Comprar</button>
          <a href="./detallemicro1.html" style="padding: 5px;">ver detalle</a>
        </div>
      </div>
    </div>

    <footer class="pie-pagina">
        <div class="grupo-1">
            <div class="box">
                <figure>
                    <a href="#" style="font-size: 500%;">
                      <i class="fa-duotone fa-bags-shopping fa-2xl" style="--fa-primary-color: #83ecd7; --fa-secondary-color: #675bc8;"></i>
                    </a>
                </figure>
            </div>
            <div class="box">
                <h2>SOBRE NOSOTROS</h2>
                <p>Somos una empresa de compra/venta que busca ofrecer el mejor y mas amplio servicio posible</p>
                <a href="./informaciones.html">Mas información</a>
                <br>
                <a href="./informaciones.html">¿Quienes somos?</a>
                <br>
                <a href="./informaciones.html">¿Como publico un producto?</a>
                <br>
                <a href="./informaciones.html">¿Se puede reembolsar?</a>
            </div>
            <div class="box">
                <h2>SIGUENOS</h2>
                <div class="red-social">
                    <a href="#" class="fa fa-facebook"></a>
                    <a href="#" class="fa fa-instagram"></a>
                    <a href="#" class="fa fa-twitter"></a>
                    <a href="#" class="fa fa-youtube"></a>
                </div>
            </div>
        </div>
          <div class="grupo-2">
            <small>&copy; 2023 <b>NetWorkers </b> - Todos los Derechos Reservados.</small>
          </div>
      </footer>   

    <script> 
      
      const moneda = document.getElementById('boxMoneda');
      const productos = document.getElementsByClassName('producto') 

    function calculate() {
      const monedaSeleccionada = moneda.value;

    fetch(`https://api.exchangerate-api.com/v4/latest/${monedaSeleccionada}`)
      .then(res => res.json())
      .then(data => {
        const rates = data.rates;
        const tasaDeCambio = rates.CLP; // Obtiene la tasa de cambio para CLP

        for (let i = 0; i < productos.length; i++) {
          const producto = productos[i];
          const precioOriginal = parseFloat(producto.querySelector('button.buy-btn').getAttribute('data-price'));
          const precioCLP = precioOriginal;

          // Calcula el nuevo precio en la moneda seleccionada
          const nuevoPrecio = (precioCLP / tasaDeCambio).toFixed(2);

          // Actualiza el precio en la página
          producto.querySelector('p').textContent = `$${nuevoPrecio} ${monedaSeleccionada}`;
        }
      });
  }

    moneda.addEventListener('change', function() {
      if (moneda.value !== 'CLP') {
        calculate();
      }
  });
</script>

<script>
               // Obtén todos los botones de "Agregar al carrito"
               const addToCartButtons = document.querySelectorAll('.buy-btn');

// Itera sobre cada botón y agrega un evento de click
addToCartButtons.forEach(button => {
button.addEventListener('click', addToCart);
});

// Función que se ejecuta cuando se hace clic en un botón de "Agregar al carrito"
function addToCart(event) {
// Obtén los datos del producto actual
const product = event.target.closest('.producto');
const title = product.querySelector('.title').textContent;
const price = product.querySelector('.price').textContent;

// Crea un objeto con los datos del producto
const item = { title, price };

// Obtiene los elementos del carrito almacenados en el almacenamiento local
const cartItems = localStorage.getItem('cartItems') ? JSON.parse(localStorage.getItem('cartItems')) : [];
cartItems.push(item);

// Guarda los elementos del carrito en el almacenamiento local
localStorage.setItem('cartItems', JSON.stringify(cartItems));
updateTotalPrice();
}
function updateTotalPrice() {
    const totalPriceElement = document.getElementById('total-price');
    let totalPrice = 0;

    // Recorre los productos en el carrito y suma sus precios
    for (let i = 0; i < cart.length; i++) {
        totalPrice += cart[i];
    }

    // Actualiza el precio total en la página
    totalPriceElement.textContent = `Total: $${totalPrice}`;
}

</script>
</div>


  <!-- SCRIPTS FRAMEWORKS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
    crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"
    integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p"
    crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js"
    integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF"
    crossorigin="anonymous"></script>
  <!-- SCRIPT MI JAVASCRIPT -->
  <script src="./js/scripts.js"></script>


</body>

</html>